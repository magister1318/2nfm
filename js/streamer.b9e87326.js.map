{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/Streamer.vue?8101","webpack:///./src/utils/enums/Resolutions.js","webpack:///./src/utils/enums/Codecs.js","webpack:///./src/assets/svgs/gear.svg","webpack:///./src/components/Streamer/StopSection.vue?f940","webpack:///./src/assets/svgs/copy.svg","webpack:///src/components/Streamer/StopSection.vue","webpack:///./src/components/Streamer/StopSection.vue?4ac6","webpack:///./src/components/Streamer/StopSection.vue","webpack:///./src/components/DesktopCapturer.vue?3472","webpack:///src/components/DesktopCapturer.vue","webpack:///./src/components/DesktopCapturer.vue?3fdb","webpack:///./src/components/DesktopCapturer.vue","webpack:///./src/components/StreamerConnection.vue?cc2b","webpack:///src/components/StreamerConnection.vue","webpack:///./src/components/StreamerConnection.vue?043f","webpack:///./src/components/StreamerConnection.vue","webpack:///src/views/Streamer.vue","webpack:///./src/views/Streamer.vue?0983","webpack:///./src/views/Streamer.vue","webpack:///./src/components/Streamer/StopSection.vue?7bf7","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/views/Streamer.vue?dc14","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","isRegExp","module","exports","it","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","enableVideo","enableAudio","isMic","resolution","on","onIsSharing","onGotStream","onSetDefaults","bandwidth","codecs","room_id","room_password","privacy","isP2POnly","onSessionId","onViewerCount","onIdTaken","class","live","isSharingOn","sessionId","_v","_s","useridAlreadyTaken","_e","directives","name","rawName","value","expression","domProps","setRoomName","$event","composing","showAdvancedOptions","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","$$selectedVal","prototype","filter","call","options","o","selected","map","val","_value","multiple","Resolutions","FitScreen","Fit4K","Fit2K","Fit1080p","Fit720p","Fit480p","Fit360p","_q","Codecs","vp9","vp8","h264","startStream","viewerCount","stream","stopStream","staticRenderFns","getDimensionsForResolution","console","log","width","height","window","screen","functional","data","children","classNames","style","staticStyle","rest","Object","assign","copyUrl","showPreview","_m","components","CopySvg","Player","props","type","MediaStream","default","Number","copyNotification","watch","methods","input","setAttribute","document","body","appendChild","select","result","removeChild","setTimeout","innerText","$emit","component","Boolean","isSharing","newValue","setDefaults","captureDesktop","onAccessApproved","video","audio","autoGainControl","echoCancellation","noiseSuppression","googDisableLocalEcho","startCapturing","gotStream","addEventListener","addStreamStopListener","streamEndedEvent","getAudioTracks","forEach","track","getVideoTracks","roomPassword","roomId","connection","mounted","setOffline","setOnline","beforeDestroy","removeEventListener","shareStreamUsingRTCMultiConnection","RTCMultiConnection","socketURL","autoCloseEntireSession","publicRoomIdentifier","socketMessageEvent","password","enableLogs","session","oneway","candidates","stun","turn","iceTransportPolicy","iceProtocols","tcp","udp","optionalArgument","optional","mandatory","channel","sessionid","userid","autoReDialOnFailure","getExternalIceServers","extra","iceServers","IceServersHandler","processSdp","sdp","setBandwidth","CodecsHandler","min","max","sdpConstraints","OfferToReceiveAudio","OfferToReceiveVideo","onstream","onstreamended","event","mediaElement","pause","error","e","onUserIdAlreadyTaken","dontCaptureUserMedia","attachStreams","push","removeTrack","systemAudioId","micId","text","clearInterval","looper","socketCustomEvent","alert","onSocketDisconnect","onSocketError","onmessage","newChatMessage","receivedChatMessage","checkmark_id","open","roomOpenCallback","onleave","participants","count","onPeerStateChanged","setViewerCount","receiverViewerCount","updateExtraData","getTracks","stop","closeSocket","replace","metaInfo","title","LogoSvg","VideoSvg","AudioSvg","VideoAndAudioSvg","XSvg","GearSvg","StopSection","DesktopCapturer","StreamerConnection","desktop_id","constraints","localStorage","getItem","streaming_method","computed","$refs","protectedRoutes","capturer","setItem","parseInt","id","takenID","wellKnownSymbol","MATCH","METHOD_NAME","regexp","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el"],"mappings":"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","file":"js/streamer.b9e87326.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"frow centered\"},[_c('DesktopCapturer',{ref:\"capturer\",attrs:{\"enableVideo\":_vm.enableVideo,\"enableAudio\":_vm.enableAudio,\"isMic\":_vm.isMic,\"resolution\":_vm.resolution},on:{\"isSharing\":_vm.onIsSharing,\"gotStream\":_vm.onGotStream,\"setDefaults\":_vm.onSetDefaults}}),_c('StreamerConnection',{ref:\"connection\",attrs:{\"bandwidth\":_vm.bandwidth,\"codecs\":_vm.codecs,\"roomId\":_vm.room_id,\"roomPassword\":_vm.room_password,\"privacy\":_vm.privacy,\"enableVideo\":_vm.enableVideo,\"enableAudio\":_vm.enableAudio,\"isP2POnly\":_vm.isP2POnly},on:{\"sessionId\":_vm.onSessionId,\"viewerCount\":_vm.onViewerCount,\"idTaken\":_vm.onIdTaken}}),_c('div',{staticClass:\"col-md-1-2\"},[_c('router-link',{attrs:{\"id\":\"logo\",\"to\":\"/\"}},[_c('LogoSvg')],1),_c('div',{class:{ live: _vm.isSharingOn && _vm.sessionId },attrs:{\"id\":\"live-indicator\"}},[_vm._v(\"LIVE\")])],1),_c('div',{staticClass:\"col-md-1-2\"},[(_vm.useridAlreadyTaken)?_c('div',{attrs:{\"id\":\"id-taken\"}},[_vm._v(\"Whoops,\"),_c('b',[_vm._v(\" \"+_vm._s(_vm.useridAlreadyTaken)+\" \")]),_vm._v(\"already taken! Please choose another room name.\")]):_vm._e(),(!_vm.isSharingOn || !_vm.sessionId)?_c('section',{attrs:{\"id\":\"setup-section\"}},[_c('label',{staticClass:\"row-start\",attrs:{\"id\":\"room-id-label\"}},[_c('span',{staticClass:\"shrink-0\"},[_vm._v(\"2n.fm/\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.room_id),expression:\"room_id\"}],attrs:{\"id\":\"room-id\",\"type\":\"text\",\"placeholder\":\"Random\"},domProps:{\"value\":(_vm.room_id)},on:{\"change\":_vm.setRoomName,\"blur\":_vm.setRoomName,\"input\":function($event){if($event.target.composing){ return; }_vm.room_id=$event.target.value}}})]),_c('section',{attrs:{\"id\":\"options\"}},[_c('div',{staticClass:\"label\"},[_vm._v(\"Options\")]),_c('div',{staticClass:\"label right-item\",on:{\"click\":function($event){_vm.showAdvancedOptions = !_vm.showAdvancedOptions}}},[(!_vm.showAdvancedOptions)?_c('div',{staticClass:\"gear frow nowrap\"},[_c('GearSvg'),_c('sup',[_vm._v(\"!\")])],1):_vm._e(),(_vm.showAdvancedOptions)?_c('div',{staticClass:\"x-icon frow centered\"},[_c('XSvg')],1):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAdvancedOptions),expression:\"showAdvancedOptions\"}],staticClass:\"advanced\"},[_c('div',{staticClass:\"frow centered\"},[_c('label',{staticClass:\"row-center mb-0\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isP2POnly),expression:\"isP2POnly\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isP2POnly)?_vm._i(_vm.isP2POnly,null)>-1:(_vm.isP2POnly)},on:{\"change\":function($event){var $$a=_vm.isP2POnly,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isP2POnly=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isP2POnly=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isP2POnly=$$c}}}}),_vm._v(\"Only send audio and video via peer-to-peer connections\")])])]),_c('div',{staticClass:\"frow gutters\"},[_c('div',{staticClass:\"col-xs-1-2\"},[_c('div',{staticClass:\"settings-item\"},[_c('label',[_vm._v(\"Resolution\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.resolution),expression:\"resolution\"}],attrs:{\"id\":\"resolutions\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.resolution=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.Resolutions.FitScreen}},[_vm._v(\"Fit Screen\")]),_c('option',{domProps:{\"value\":_vm.Resolutions.Fit4K}},[_vm._v(\"4K (2160p)\")]),_c('option',{domProps:{\"value\":_vm.Resolutions.Fit2K}},[_vm._v(\"2K (1440p)\")]),_c('option',{domProps:{\"value\":_vm.Resolutions.Fit1080p}},[_vm._v(\"Full-HD (1080p)\")]),_c('option',{domProps:{\"value\":_vm.Resolutions.Fit720p}},[_vm._v(\"HD (720p)\")]),_c('option',{domProps:{\"value\":_vm.Resolutions.Fit480p}},[_vm._v(\"SD (480p)\")]),_c('option',{domProps:{\"value\":_vm.Resolutions.Fit360p}},[_vm._v(\"SD (360p)\")])])])])]),_c('div',{staticClass:\"col-xs-1-2\"},[_c('label',{staticClass:\"row-start\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.privacy),expression:\"privacy\"}],attrs:{\"type\":\"radio\",\"value\":\"private\"},domProps:{\"checked\":_vm._q(_vm.privacy,\"private\")},on:{\"change\":function($event){_vm.privacy=\"private\"}}}),_vm._v(\"Private Room\")]),_c('label',{staticClass:\"row-start mb-0\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.privacy),expression:\"privacy\"}],attrs:{\"type\":\"radio\",\"value\":\"public\"},domProps:{\"checked\":_vm._q(_vm.privacy,\"public\")},on:{\"change\":function($event){_vm.privacy=\"public\"}}}),_vm._v(\"Public Room\")])]),_c('div',{staticClass:\"col-xs-1-2\"},[_c('label',{staticClass:\"row-start\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isMic),expression:\"isMic\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isMic)?_vm._i(_vm.isMic,null)>-1:(_vm.isMic)},on:{\"change\":function($event){var $$a=_vm.isMic,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isMic=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isMic=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isMic=$$c}}}}),_vm._v(\"Enable Microphone\")])]),_c('div',{staticClass:\"col-xs-1-2\"},[_c('label',{staticClass:\"row-start\"},[_vm._v(\"Codec\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codecs),expression:\"codecs\"}],staticClass:\"ml-5\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.codecs=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":_vm.Codecs.vp9}},[_vm._v(\"VP9 (Screensharing)\")]),_c('option',{domProps:{\"value\":_vm.Codecs.vp8}},[_vm._v(\"VP8 (Gaming)\")]),_c('option',{attrs:{\"disabled\":!_vm.isP2POnly},domProps:{\"value\":_vm.Codecs.h264}},[_vm._v(\"H.264\")])])])])])]),_c('section',{attrs:{\"id\":\"stream-section\"}},[_c('div',{attrs:{\"id\":\"start\"}},[_c('div',{staticClass:\"label\"},[_vm._v(\"Start\")]),_c('div',{staticClass:\"frow gutters\"},[_c('div',{staticClass:\"col-xs-1-3\"},[_c('div',{staticClass:\"stream-button\",on:{\"click\":function($event){return _vm.startStream(true, false)}}},[_c('div',{staticClass:\"frow column-center\"},[_c('VideoSvg'),_vm._v(\"Video Only\"),_c('div',{staticClass:\"and-mic\",class:{'opacity-100': _vm.isMic }},[_vm._v(\"& Mic\")])],1)])]),_c('div',{staticClass:\"col-xs-1-3\"},[_c('div',{staticClass:\"stream-button\",on:{\"click\":function($event){return _vm.startStream(true, true)}}},[_c('div',{staticClass:\"frow column-center\"},[_c('VideoAndAudioSvg'),_vm._v(\"Video + Audio\"),_c('div',{staticClass:\"and-mic\",class:{'opacity-100': _vm.isMic }},[_vm._v(\"& Mic\")])],1)])]),_c('div',{staticClass:\"col-xs-1-3\"},[_c('div',{staticClass:\"stream-button\",on:{\"click\":function($event){return _vm.startStream(false, true)}}},[_c('div',{staticClass:\"frow column-center\"},[_c('AudioSvg'),_vm._v(\"Audio Only\"),_c('div',{staticClass:\"and-mic\",class:{'opacity-100': _vm.isMic }},[_vm._v(\"& Mic\")])],1)])])])])])]):_vm._e(),(_vm.isSharingOn && _vm.sessionId)?_c('StopSection',{attrs:{\"sessionId\":_vm.sessionId,\"viewerCount\":_vm.viewerCount,\"stream\":_vm.stream,\"privacy\":_vm.privacy},on:{\"stopStream\":_vm.stopStream}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const Resolutions = {\n  FitScreen: 'FitScreen',\n  Fit4K: 'Fit4K',\n  Fit2K: 'Fit2K',\n  Fit1080p: 'Fit1080p',\n  Fit720p: 'Fit720p',\n  Fit480p: 'Fit480p',\n  Fit360p: 'Fit360p',\n};\n\n/**\n * @return dimensions { width: number, height: number }\n */\nexport const getDimensionsForResolution = (resolution) => {\n  console.log('resolution:', resolution);\n  switch (resolution) {\n  case Resolutions.Fit4K:\n    return { width: 3840, height: 2160 };\n  case Resolutions.Fit2K:\n    return { width: 2560, height: 1440 };\n  case Resolutions.Fit1080p:\n    return { width: 1920, height: 1080 };\n  case Resolutions.Fit720p:\n    return { width: 1280, height: 720 };\n  case Resolutions.Fit480p:\n    return { width: 720, height: 480 };\n  case Resolutions.Fit360p:\n    return { width: 640, height: 360 };\n  case Resolutions.FitScreen:\n  default:\n    return (window || {}).screen || getDimensionsForResolution(Resolutions.Fit480p);\n  }\n};\n","export const Codecs = {\n  vp8: 'vp8',\n  vp9: 'vp9',\n  h264: 'h264',\n};\n","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M24 13.616v-3.232l-2.869-1.02a9.445 9.445 0 00-.811-1.955l1.308-2.751-2.285-2.285-2.751 1.307a9.468 9.468 0 00-1.955-.811L13.616 0h-3.232L9.363 2.869a9.413 9.413 0 00-1.955.811L4.657 2.372 2.372 4.657 3.68 7.409a9.39 9.39 0 00-.811 1.955L0 10.384v3.232l2.869 1.02a9.39 9.39 0 00.811 1.955l-1.308 2.751 2.285 2.286 2.751-1.308a9.468 9.468 0 001.955.811L10.384 24h3.232l1.021-2.869a9.445 9.445 0 001.955-.811l2.751 1.308 2.285-2.286-1.308-2.751a9.445 9.445 0 00.811-1.955L24 13.616zM12 16a4 4 0 110-8 4 4 0 010 8z\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"stop-section\"}},[_c('router-link',{attrs:{\"id\":\"public-link\",\"to\":_vm.sessionId,\"target\":\"_blank\"}},[_vm._v(_vm._s((\"2n.fm/\" + _vm.sessionId)))]),_c('div',{attrs:{\"id\":\"copy-button\"},on:{\"click\":function($event){return _vm.copyUrl()}}},[_c('CopySvg')],1),(_vm.copyNotification)?_c('div',{staticClass:\"animate-fade-in\",attrs:{\"id\":\"copy-notification\"}},[_vm._v(\"Copied\")]):_vm._e(),_c('div',{staticClass:\"viewer-count mt-20\"},[_c('span',{attrs:{\"id\":\"viewer-count-number\"}}),_vm._v(_vm._s(_vm.viewerCount)+\" \"+_vm._s(_vm.viewerCount === 1 ? 'Viewer' : 'Viewers'))]),_c('div',{staticClass:\"frow mt-5 mb-30\"},[_c('div',{staticClass:\"public-indicator\",class:{'public': _vm.privacy === 'public'}},[_vm._v(_vm._s(_vm.privacy))])]),(_vm.showPreview)?_c('Player',{staticClass:\"mb-20\",attrs:{\"stream\":_vm.stream,\"receiverViewerCount\":_vm.viewerCount,\"disableAutoplay\":true}}):_vm._e(),_c('div',{staticClass:\"frow row-between\"},[_c('button',{staticClass:\"col-xs-2-5 streamer-control-buttons\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.stopStream}},[_vm._v(\"End Sharing\")]),_c('button',{staticClass:\"col-xs-2-5 streamer-control-buttons\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPreview = !_vm.showPreview}}},[_vm._v(_vm._s(_vm.showPreview ? 'Hide Preview' : 'Show Preview'))])]),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"frow width-100 mt-20\"},[_c('a',{staticClass:\"text-underline\",attrs:{\"href\":\"https://caniuse.com/#search=getDisplayMedia\",\"rel\":\"noreferrer\",\"target\":\"_blank\"}},[_vm._v(\"OS and Browser Limitations\")])])}]\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M18 6V0H0v18h6v6h18V6h-6zM6 16H2V2h14v4H6v10zm16 6H8V8h14v14z\"}})])\n          )\n        }\n      }\n    ","<style scoped lang=\"sass\">\n#stop-section\n  text-align: center\n\n  #public-link\n    display: inline-block\n    font-size: 40px\n    color: $primary-color\n    margin: 0 auto\n\n    // XS\n    @media (max-width: 767px)\n      font-size: 30px\n\n  #copy-button\n    display: inline-block\n    margin-left: 14px\n    cursor: pointer\n\n    svg\n      width: 30px\n      fill: $primary-color\n\n  #copy-notification\n    font-size: 20px\n\n.public-indicator\n  border-radius: $border-radius-small\n  padding: 3px 5px\n  background-color: $gray-light\n  text-transform: capitalize\n  color: $white\n\n  &.public\n    background-color: $blue\n\n.viewer-count\n  text-align: center\n  font-size: 20px\n  font-weight: $weight-bold\n\n.streamer-control-buttons\n  margin: 0 auto\n  font-size: 30px\n  padding: 15px\n  background: none\n  border: 3px solid $primary-color\n  color: $primary-color\n  border-radius: 10px\n</style>\n\n<template lang=\"pug\">\nsection#stop-section\n  //- router-link#public-link(\n  //-   to=\"{query: { s: sessionId, p: room_password }}`}\" target=\"_blank\"\n  //- )\n  router-link#public-link(:to=\"sessionId\" target=\"_blank\")\n    | {{ `2n.fm/${sessionId}` }}\n  #copy-button(@click=\"copyUrl()\")\n      CopySvg\n  #copy-notification.animate-fade-in(v-if=\"copyNotification\")\n    | Copied\n  .viewer-count.mt-20\n    span#viewer-count-number\n    | {{ viewerCount }} {{ viewerCount === 1 ? 'Viewer' : 'Viewers' }}\n  .frow.mt-5.mb-30\n    .public-indicator(:class=\"{'public': privacy === 'public'}\") {{privacy}}\n  Player.mb-20(\n    v-if=\"showPreview\"\n    :stream=\"stream\"\n    :receiverViewerCount=\"viewerCount\"\n    :disableAutoplay=\"true\"\n  )\n  .frow.row-between\n    button.col-xs-2-5.streamer-control-buttons(type=\"button\" @click=\"stopStream\")\n      | End Sharing\n    button.col-xs-2-5.streamer-control-buttons(type=\"button\" @click=\"showPreview = !showPreview\")\n      | {{ showPreview ? 'Hide Preview' : 'Show Preview' }}\n  .frow.width-100.mt-20\n    a.text-underline(\n      href=\"https://caniuse.com/#search=getDisplayMedia\"\n      rel=\"noreferrer\"\n      target=\"_blank\"\n    )\n      | OS and Browser Limitations\n</template>\n\n<script>\nimport CopySvg from '@/assets/svgs/copy.svg';\n\nimport Player from '@/components/Player/Player.vue';\n\nexport default {\n  name: 'StopSection',\n  components: {\n    CopySvg,\n    Player,\n  },\n  props: {\n    stream: {\n      type: MediaStream,\n      default: null,\n    },\n    sessionId: {\n      type: String,\n      default: null,\n    },\n    viewerCount: {\n      type: Number,\n      default: 0,\n    },\n    privacy: {\n      type: String,\n      default: 'private',\n    },\n  },\n  data() {\n    return {\n      copyNotification: false,\n      showPreview: false,\n    };\n  },\n  watch: {\n  },\n  methods: {\n    copyUrl() {\n      let copyText = document.getElementById('public-link');\n      let input = document.createElement('input');\n      input.setAttribute('value', `https://${copyText.innerText}`);\n      document.body.appendChild(input);\n      input.select();\n\n      let result = document.execCommand('copy');\n      const copyNotification = document.getElementById('copy-notification');\n      if (result) {\n        document.body.removeChild(input);\n        this.copyNotification = true;\n        setTimeout(() => {\n          this.copyNotification = false;\n        }, 5000);\n      } else {\n        copyNotification.innerText = 'Copy failed';\n      }\n    },\n    stopStream() {\n      this.$emit('stopStream');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StopSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StopSection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StopSection.vue?vue&type=template&id=c3e5f46a&scoped=true&lang=pug&\"\nimport script from \"./StopSection.vue?vue&type=script&lang=js&\"\nexport * from \"./StopSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StopSection.vue?vue&type=style&index=0&id=c3e5f46a&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3e5f46a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  \n</template>\n\n<script>\nimport { Resolutions, getDimensionsForResolution } from '@/utils/enums/Resolutions';\n\nexport default {\n  name: 'DesktopCapturer',\n  props: {\n    enableVideo: Boolean,\n    enableAudio: Boolean,\n    isMic: Boolean,\n    resolution: {\n      type: String,\n      default: Resolutions.FitScreen,\n    },\n  },\n  data() {\n    return {\n      isSharing: false,\n    };\n  },\n  watch: {\n    isSharing(newValue) {\n      this.$emit('isSharing', newValue);\n    },\n  },\n  methods: {\n    setDefaults() {\n      this.$emit('setDefaults');\n      this.isSharing = false;\n    },\n    startStream() {\n      this.setDefaults();\n      this.isSharing = true;\n      this.captureDesktop();\n    },\n    stopStream() {\n      this.isSharing = false;\n\n      // SM: post Vue migration, what previously ran in captureDesktop is instead in setDefaults\n      // this.captureDesktop();\n      this.setDefaults();\n    },\n    captureDesktop() {\n      this.onAccessApproved();\n    },\n    onAccessApproved() {\n      // console.log(navigator.mediaDevices.getSupportedConstraints());\n      const dimensions = getDimensionsForResolution(this.resolution);\n\n      let constraints = {\n        video: {\n          // TODO: displaySurface support is waiting on browser support\n          // https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/displaySurface\n          // displaySurface: [\"application\", \"browser\", \"monitor\", \"window\"],\n          width: { ideal: dimensions.width },\n          height: { ideal: dimensions.height },\n        },\n        audio: {\n          autoGainControl: false,\n          echoCancellation: false,\n          noiseSuppression: false,\n          googDisableLocalEcho: false, // https://www.chromestatus.com/feature/5056629556903936\n        },\n      };\n\n      const startMicCapture = async () => {\n        let captureMicStream;\n        try {\n          captureMicStream = await navigator.mediaDevices.getUserMedia(\n            {\n              audio: true,\n              video: false,\n            },\n          );\n        } catch (err) {\n          console.error('Error getting microphone', err);\n          alert('Your browser denied microphone access');\n          // this.setDefaults();\n        }\n        return captureMicStream;\n      };\n\n      const startScreenCapture = async () => {\n        let captureStream;\n        try {\n          captureStream = await navigator.mediaDevices.getDisplayMedia(\n            constraints,\n          );\n        } catch (err) {\n          this.setDefaults();\n        }\n        return captureStream;\n      };\n\n      const startCapturing = async () => {\n        let micStream = null;\n        if (this.isMic === true) {\n          micStream = await startMicCapture();\n        }\n        let stream = await startScreenCapture();\n        // console.log(stream.getTracks()[0].getCapabilities());\n        // console.log(stream.getTracks()[0].getSettings());\n\n        if (this.enableAudio && stream.getAudioTracks().length === 0) {\n          alert('Make sure to check the \"Share audio\" box in Google Chrome');\n        }\n        if (stream.getAudioTracks().length > 0) {\n          stream.systemAudioId = stream.getAudioTracks()[0].id;\n        }\n        if (micStream) {\n          stream.addTrack(micStream.getAudioTracks()[0]);\n          stream.micId = micStream.getAudioTracks()[0].id;\n        }\n        this.gotStream(stream);\n      };\n      startCapturing();\n    },\n    gotStream(stream) {\n      if (!stream) {\n        this.setDefaults();\n        return;\n      }\n\n      stream.addEventListener('inactive', () => {\n        this.setDefaults();\n      });\n\n      this.addStreamStopListener(stream, () => {\n        this.setDefaults();\n      });\n\n      this.$emit('gotStream', stream);\n    },\n    addStreamStopListener(stream, callback) {\n      var streamEndedEvent = 'ended';\n      if ('oninactive' in stream) {\n        streamEndedEvent = 'inactive';\n      }\n      stream.addEventListener(\n        streamEndedEvent,\n        function() {\n          callback();\n          callback = function() {};\n        },\n        false,\n      );\n      stream.getAudioTracks().forEach(function(track) {\n        track.addEventListener(\n          streamEndedEvent,\n          function() {\n            callback();\n            callback = function() {};\n          },\n          false,\n        );\n      });\n      stream.getVideoTracks().forEach(function(track) {\n        track.addEventListener(\n          streamEndedEvent,\n          function() {\n            callback();\n            callback = function() {};\n          },\n          false,\n        );\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesktopCapturer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesktopCapturer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DesktopCapturer.vue?vue&type=template&id=9c0b0bec&lang=pug&\"\nimport script from \"./DesktopCapturer.vue?vue&type=script&lang=js&\"\nexport * from \"./DesktopCapturer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  \n</template>\n\n<script>\nimport { Codecs } from '@/utils/enums/Codecs';\nimport { CodecsHandler } from '../utils/background/helpers/CodecsHandler';\nimport { IceServersHandler } from '../utils/background/helpers/IceServersHandler';\n\nexport default {\n  name: 'StreamerConnection',\n  props: {\n    bandwidth: {\n      type: Number,\n      default: 8192,\n    },\n    codecs: {\n      type: String,\n      default: 'vp8',\n    },\n    roomPassword: {\n      type: String,\n      default: '',\n    },\n    roomId: {\n      type: String,\n      default: '',\n    },\n    privacy: {\n      type: String,\n      default: 'private',\n    },\n    enableVideo: {\n      type: Boolean,\n      default: false,\n    },\n    enableAudio: {\n      type: Boolean,\n      default: false, \n    },\n    isP2POnly: {\n      type: Boolean,\n      default: false,\n    },\n  },  \n  data() {\n    return {\n      connection: null,\n    };\n  },\n  mounted() {\n    window.addEventListener('offline', this.setOffline, false);\n    window.addEventListener('online', this.setOnline, false);\n  },\n  beforeDestroy() {\n    window.removeEventListener('offline', this.setOffline, false);\n    window.removeEventListener('online', this.setOnline, false);\n\n    this.connection = null;\n    delete this.connection;\n  },\n  methods: {\n    shareStreamUsingRTCMultiConnection(stream) {\n      // www.RTCMultiConnection.org/docs/\n      this.connection = new RTCMultiConnection();\n      this.connection.socketURL = 'https://api.2n.fm:9001/';\n      this.connection.autoCloseEntireSession = true;\n      // this must match the viewer page\n      if (this.privacy === 'public') {\n        this.connection.publicRoomIdentifier = 'desktopCapture';\n      }\n      \n      this.connection.socketMessageEvent = 'desktopCapture';\n\n      this.connection.password = null;\n      if (this.roomPassword && this.roomPassword.length) {\n        this.connection.password = this.roomPassword;\n      }\n\n      this.connection.enableLogs = false;\n      this.connection.session = {\n        audio: this.enableAudio,\n        video: this.enableVideo,\n        data: true,\n        oneway: true,\n      };\n\n      this.connection.candidates = {\n        stun: true,\n        turn: !this.isP2POnly,\n      };\n      this.connection.iceTransportPolicy = 'all';\n\n      this.connection.iceProtocols = {\n        tcp: true,\n        udp: true,\n      };\n\n      this.connection.optionalArgument = {\n        optional: [],\n        mandatory: {},\n      };\n\n      this.connection.channel = this.connection.sessionid = this.connection.userid;\n\n      if (this.roomId && this.roomId.length) {\n        this.connection.channel = this.connection.sessionid = this.connection.userid = this.roomId;\n      }\n\n      this.connection.autoReDialOnFailure = true;\n      this.connection.getExternalIceServers = false;\n\n      this.connection.extra.isP2POnly = this.isP2POnly;\n      this.connection.iceServers = IceServersHandler.getIceServers(!this.isP2POnly);\n\n      this.connection.processSdp = (sdp) => {\n        if (this.bandwidth) {\n          if (\n            this.bandwidth &&\n            !isNaN(this.bandwidth) &&\n            this.bandwidth != 'NaN' &&\n            typeof this.bandwidth == 'number'\n          ) {\n            sdp = setBandwidth(sdp, this.bandwidth);\n            sdp = CodecsHandler.setVideoBitrates(sdp, {\n              min: this.bandwidth,\n              max: this.bandwidth,\n            });\n          }\n        }\n\n        if (this.enableAudio && !this.enableVideo) {\n          sdp = CodecsHandler.preferCodec(sdp, this.codecs);\n        } else {\n          sdp = CodecsHandler.preferCodec(sdp, Codecs.h264);\n        }\n          \n        return sdp;\n      };\n\n      // www.rtcmultiexternalThis.connection.org/docs/sdpConstraints/\n      this.connection.sdpConstraints.mandatory = {\n        OfferToReceiveAudio: false,\n        OfferToReceiveVideo: false,\n      };\n\n      this.connection.onstream = this.connection.onstreamended = (event) => {\n        try {\n          event.mediaElement.pause();\n          delete event.mediaElement;\n        } catch (e) {\n          console.error(e);\n        }\n      };\n\n      this.connection.onUserIdAlreadyTaken = (useridAlreadyTaken) => {\n        this.$emit('idTaken', useridAlreadyTaken);\n      };\n\n      // www.RTCMultiConnection.org/docs/dontCaptureUserMedia/\n      this.connection.dontCaptureUserMedia = true;\n\n      // www.RTCMultiConnection.org/docs/attachStreams/\n      this.connection.attachStreams.push(stream);\n\n      // TODO: Remove the video track from the source stream\n      if (\n        !this.enableVideo &&\n        this.connection.attachStreams[0].getVideoTracks().length > 0\n      ) {\n        this.connection.attachStreams[0].removeTrack(\n          this.connection.attachStreams[0].getVideoTracks()[0],\n        );\n      }\n\n      if(stream.systemAudioId) {\n        this.connection.extra.systemAudioId = stream.systemAudioId;\n        // this.connection.updateExtraData();\n      }\n\n      if (stream.micId) {\n        this.connection.extra.micId = stream.micId;\n        // this.connection.updateExtraData();\n      }\n\n      var text = '-';\n      const looper = setInterval(() => {\n        if (!this.connection) {\n          this.setViewerCount(0);\n          clearInterval(looper);\n          return;\n        }\n\n        if (this.connection.isInitiator) {\n          this.setViewerCount(0);\n          clearInterval(looper);\n          return;\n        }\n\n        text += ' -';\n        if (text.length > 6) {\n          text = '-';\n        }\n\n        this.setViewerCount(text);\n      }, 500);\n      \n\n      // www.RTCMultiConnection.org/docs/open/\n      this.connection.socketCustomEvent = this.connection.sessionid;\n\n      const roomOpenCallback = (isRoomOpened, roomid, error) => {\n        if (error) {\n          alert(error);\n        }\n\n        // any key-values set here should be reset in setDefaults.js\n        this.$emit('sessionId', this.connection.sessionid);\n\n        this.setViewerCount(0);\n\n        this.connection.socket.on(\n          this.connection.socketCustomEvent,\n          (message) => {\n            if (message.receivedYourScreen) {\n              this.setViewerCount(\n                this.connection.isInitiator\n                  ? this.connection.getAllParticipants().length\n                  : 0,\n              );\n            }\n          },\n        );\n      };\n\n      this.connection.onSocketDisconnect = () => {\n        // alert('externalThis.connection to the server is closed.');\n        if (this.connection.getAllParticipants().length > 0) return;\n\n        this.setDefaults();\n      };\n\n      this.connection.onSocketError = () => {\n        alert('Unable to connect to the server. Please try again.');\n\n        setTimeout(() => {\n          this.setDefaults();\n        }, 1000);\n      };\n\n      // this.connection.onopen = (event) => {\n      //   //\n      // };\n\n      this.connection.onmessage = (event) => {\n        if (event.data.newChatMessage) {\n          // this.runtimePort.postMessage({\n          //   messageFromContentScript1234: true,\n          //   newChatMessage: event.data.newChatMessage\n          // });\n\n          this.connection.send({\n            receivedChatMessage: true,\n            checkmark_id: event.data.checkmark_id,\n          });\n        }\n\n        // if (event.data.receivedChatMessage) {\n        //   this.runtimePort.postMessage({\n        //     messageFromContentScript1234: true,\n        //     receivedChatMessage: true,\n        //     checkmark_id: event.data.checkmark_id\n        //   });\n        // }\n      };\n\n      this.connection.open(this.connection.sessionid, roomOpenCallback);\n\n      var oldLength = 0;\n      this.connection.onleave = (event) =>{\n        const participants = this.connection.getAllParticipants();\n        let count = participants.length;\n        if (participants.includes(event.userid)) {\n          count--;\n        }\n        this.setViewerCount(count);\n      };\n\n      this.connection.onPeerStateChanged = () => {\n        const participantsCount = this.connection.getAllParticipants().length;\n        if (oldLength != participantsCount) {\n          // sendTabTitle();\n        }\n        this.setViewerCount(\n          this.connection.isInitiator ? participantsCount : 0,\n        );\n      };\n    },\n    setViewerCount(count) {\n      this.$emit('viewerCount', count);\n      if (this.connection) {\n        this.connection.extra.receiverViewerCount = count;\n        this.connection.updateExtraData();\n      }\n    },\n    setOffline() {\n      if (!this.connection || !this.connection.attachStreams.length) return;\n      this.setDefaults();\n    },\n    setOnline() {\n      if (!this.connection) return;\n      this.setDefaults();\n    },\n    setDefaults() {     \n      if (this.connection) {\n        this.connection.attachStreams.forEach((stream) => {\n          try {\n            stream.getTracks().forEach((track) => {\n              try {\n                track.stop();\n              } catch (e) {\n                console.error(e);\n              }\n            });\n          } catch (e) {\n            console.error(e);\n          }\n        });\n\n        try {\n          this.connection.closeSocket();\n        } catch (e) {\n          console.error(e);\n        }\n        this.connection = null;\n      }\n\n      this.setViewerCount(0);\n    },\n  },\n};\n\nfunction setBandwidth(sdp, value) {\n  sdp = sdp.replace(/b=AS([^\\r\\n]+\\r\\n)/g, '');\n  sdp = sdp.replace(\n    /a=mid:video\\r\\n/g,\n    'a=mid:video\\r\\nb=AS:' + value + '\\r\\n',\n  );\n  return sdp;\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamerConnection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamerConnection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamerConnection.vue?vue&type=template&id=eaed1414&lang=pug&\"\nimport script from \"./StreamerConnection.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamerConnection.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<style scoped lang=\"sass\">\n.card\n  background-color: $white\n  padding: 15px\n  text-align: center\n\n#logo\n  display: block\n  margin: 0 auto\n  width: 228px\n  height: auto\n  fill: $primary-color\n\n#live-indicator\n  margin: 15px auto 0\n  width: 228px\n  color: $tertiary-color\n  border-radius: 20px\n  border: 6px solid $tertiary-color\n  font-weight: $weight-bold\n  font-size: 91px\n  text-align: center\n\n  &.live\n    color: red\n    border-color: red\n    animation: pulse 1.5s ease-in-out infinite alternate\n\n#id-taken\n  color: #721c24\n  background-color: #f8d7da\n  border: 1px solid #f5c6cb\n  padding: 0.6em\n  margin-top: 0.5em\n  border-radius: $border-radius-small\n\n// XS\n@media (max-width: 767px)\n  #logo\n    width: 114px\n  #live-indicator\n    width: 114px\n    border-radius: 10px\n    border: 3px solid $tertiary-color\n    font-size: 45px\n    margin-bottom: 30px\n\n#room-id-label\n  font-size: 40px\n  color: $primary-color\n\n  input\n    font-size: 40px\n    border-width: 4px\n\n// XS\n@media (max-width: 767px)\n  #room-id-label\n    font-size: 30px\n\n    input\n      font-size: 30px\n      border-width: 2px\n\n#options\n  border: 2px solid $tertiary-color\n  border-radius: 10px\n  padding: 40px\n  margin: 40px 0\n  position: relative\n\n  .label\n    position: absolute\n    top: -9px\n    left: 30px\n    background-color: $white\n    border-radius: $border-radius-small\n    padding: 2px 10px\n    width: auto\n    z-index: $z-page\n\n    &.right-item\n      left: auto\n      right: 30px\n      cursor: pointer\n      user-select: none\n      fill: $primary-color\n      padding: 0 10px\n\n      .gear\n        svg\n          height: 16px\n          width: auto\n          margin-right: 1px\n\n        sup\n          display: block\n          margin-top: 8px\n\n      .x-icon\n        height: 15px\n        padding: 0 4px\n\n        svg\n          height: 8px\n          width: auto\n\n  .advanced\n    overflow: hidden\n\n    &,\n    & > .frow\n      position: absolute\n      top: 0\n      right: 0\n      bottom: 0\n      left: 0\n\n    > .frow\n      animation: slide-down $animate-speed ease\n      background-color: $tertiary-color\n\n.settings-item\n  margin-bottom: 40px\n\n  label\n    margin-bottom: 0\n\n#start\n  border: 2px solid $tertiary-color\n  border-radius: 10px\n  padding: 40px 40px 35px\n  margin-top: 40px\n  position: relative\n\n  .label\n    position: absolute\n    top: -9px\n    left: 30px\n    background-color: $white\n    padding: 0 8px\n    width: auto\n\n.stream-button\n  cursor: pointer\n  transition: color 0.3s\n\n  &:hover\n    color: $black\n\n  svg\n    width: 40px\n    height: auto\n    margin-bottom: 10px\n\n  path\n    fill: $primary-color\n    transition: fill 0.3s\n\n  &:hover svg path\n    fill: $black\n\n.and-mic\n  opacity: 0\n  transition: opacity $animate-speed\n</style>\n\n<template lang=\"pug\">\n.frow.centered\n  DesktopCapturer(\n    ref=\"capturer\"\n    :enableVideo=\"enableVideo\"\n    :enableAudio=\"enableAudio\"\n    :isMic=\"isMic\"\n    :resolution=\"resolution\"\n    @isSharing=\"onIsSharing\"\n    @gotStream=\"onGotStream\"\n    @setDefaults=\"onSetDefaults\"\n  )\n  StreamerConnection(\n    ref=\"connection\"\n    :bandwidth=\"bandwidth\"\n    :codecs=\"codecs\"\n    :roomId=\"room_id\"\n    :roomPassword=\"room_password\"\n    :privacy=\"privacy\"\n    :enableVideo=\"enableVideo\"\n    :enableAudio=\"enableAudio\"\n    :isP2POnly=\"isP2POnly\"\n    @sessionId=\"onSessionId\"\n    @viewerCount=\"onViewerCount\"\n    @idTaken=\"onIdTaken\"\n  )\n  .col-md-1-2\n    router-link#logo(to=\"/\")\n      LogoSvg\n    #live-indicator(:class=\"{ live: isSharingOn && sessionId }\") LIVE\n  .col-md-1-2\n    div#id-taken(v-if=\"useridAlreadyTaken\")\n      | Whoops,\n      b &nbsp;{{useridAlreadyTaken}}&nbsp;\n      | already taken! Please choose another room name.\n    section#setup-section(v-if=\"!isSharingOn || !sessionId\")\n      label#room-id-label.row-start\n        span.shrink-0 2n.fm/\n        input#room-id(\n          type=\"text\"\n          placeholder=\"Random\"\n          v-model=\"room_id\"\n          @change=\"setRoomName\"\n          @blur=\"setRoomName\")\n      section#options\n        .label Options\n        .label.right-item(@click=\"showAdvancedOptions = !showAdvancedOptions\")\n          .gear.frow.nowrap(v-if=\"!showAdvancedOptions\")\n            GearSvg\n            sup !\n          .x-icon.frow.centered(v-if=\"showAdvancedOptions\")\n            XSvg\n        .advanced(v-show=\"showAdvancedOptions\")\n          .frow.centered\n            label.row-center.mb-0\n              input(type=\"checkbox\" v-model=\"isP2POnly\")\n              | Only send audio and video via peer-to-peer connections\n        .frow.gutters\n          .col-xs-1-2\n            .settings-item\n              label\n                | Resolution\n                select#resolutions(v-model=\"resolution\")\n                  option(:value=\"Resolutions.FitScreen\" selected=\"\") Fit Screen\n                  option(:value=\"Resolutions.Fit4K\") 4K (2160p)\n                  option(:value=\"Resolutions.Fit2K\") 2K (1440p)\n                  option(:value=\"Resolutions.Fit1080p\") Full-HD (1080p)\n                  option(:value=\"Resolutions.Fit720p\") HD (720p)\n                  option(:value=\"Resolutions.Fit480p\") SD (480p)\n                  option(:value=\"Resolutions.Fit360p\") SD (360p)\n          .col-xs-1-2\n            label.row-start\n              input(type=\"radio\" value=\"private\" v-model=\"privacy\")\n              | Private Room\n            label.row-start.mb-0\n              input(type=\"radio\" value=\"public\" v-model=\"privacy\")\n              | Public Room\n          .col-xs-1-2\n            label.row-start\n              input(type=\"checkbox\" v-model=\"isMic\")\n              | Enable Microphone\n          .col-xs-1-2\n            label.row-start\n              | Codec\n              select.ml-5(v-model=\"codecs\")\n                //- option(value=\"default\" selected=\"\") Default (VP9)\n                option(:value=\"Codecs.vp9\") VP9 (Screensharing)\n                option(:value=\"Codecs.vp8\") VP8 (Gaming)\n                option(:value=\"Codecs.h264\" :disabled=\"!isP2POnly\") H.264\n            //- .text-center\n              span(v-if=\"codecs === Codecs.vp9\")\n                | Better quality, less data\n              span(v-if=\"codecs === Codecs.vp8\")\n                | Lower quality, more FPS\n              span(v-if=\"codecs === Codecs.h264\")\n                | Less strain on oldest devices\n          //- .col-xs-1-2\n          //-   .settings-item.mb-0\n          //-     label\n          //-       | Bandwidth\n          //-       input#bandwidth(\n          //-         type=\"text\"\n          //-         value=\"\"\n          //-         placeholder=\"Optional: 8192, 1048, 512, etc.\"\n          //-         @change=\"setBandwidth\"\n          //-       )\n          //- .col-xs-1-2\n          //-   .settings-item.mb-0\n          //-     label\n          //-       | Room Password\n          //-       input#room_password(type=\"password\" value=\"\" placeholder=\"Optional\")\n      \n      section#stream-section\n        #start\n          .label Start\n          .frow.gutters\n            .col-xs-1-3\n              .stream-button(@click=\"startStream(true, false)\")\n                .frow.column-center\n                  VideoSvg\n                  | Video Only\n                  .and-mic(:class=\"{'opacity-100': isMic }\")\n                    | & Mic\n            .col-xs-1-3\n              .stream-button(@click=\"startStream(true, true)\")\n                .frow.column-center\n                  VideoAndAudioSvg\n                  | Video + Audio\n                  .and-mic(:class=\"{'opacity-100': isMic }\")\n                    | & Mic\n            .col-xs-1-3\n              .stream-button(@click=\"startStream(false, true)\")\n                .frow.column-center\n                  AudioSvg\n                  | Audio Only\n                  .and-mic(:class=\"{'opacity-100': isMic }\")\n                    | & Mic\n    StopSection(\n      v-if=\"isSharingOn && sessionId\"\n      :sessionId=\"sessionId\"\n      :viewerCount=\"viewerCount\"\n      :stream=\"stream\"\n      :privacy=\"privacy\"\n      @stopStream=\"stopStream\"\n    )\n</template>\n\n<script>\nimport { Resolutions } from '@/utils/enums/Resolutions';\nimport { Codecs } from '@/utils/enums/Codecs';\n\nimport LogoSvg from '@/assets/svgs/logo.svg';\nimport VideoSvg from '@/assets/svgs/video.svg';\nimport AudioSvg from '@/assets/svgs/audio.svg';\nimport VideoAndAudioSvg from '@/assets/svgs/video-and-audio.svg';\nimport XSvg from '@/assets/svgs/x.svg';\nimport GearSvg from '@/assets/svgs/gear.svg';\n\nimport StopSection from '@/components/Streamer/StopSection.vue';\nimport DesktopCapturer from '@/components/DesktopCapturer.vue';\nimport StreamerConnection from '@/components/StreamerConnection.vue';\n\nexport default {\n  name: 'Streamer',\n  metaInfo() {\n    return {\n      title: (\n        `2N.fm ${this.isSharingOn && this.sessionId ?\n          ` ${this.room_id} (${this.viewerCount})` : ''}`\n      ),\n    };\n  },\n  components: {\n    LogoSvg,\n    VideoSvg,\n    AudioSvg,\n    VideoAndAudioSvg,\n    XSvg,\n    GearSvg,\n    StopSection,\n    DesktopCapturer,\n    StreamerConnection,\n  },\n  data() {\n    return {\n      isSharingOn: false,\n      // sessionId aka room name\n      sessionId: null,\n      stream: null,\n      desktop_id: null,\n      constraints: null,\n      room_password: '',\n      room_id: window.localStorage.getItem('room_id') || '',\n      resolution: Resolutions.FitScreen,\n      codecs: Codecs.vp8,\n      bandwidth: null,\n      enableVideo: false,\n      enableAudio: false,\n      streaming_method: 'RTCMultiConnection',\n      viewerCount: 0,\n      privacy: 'private',\n      useridAlreadyTaken: '',\n      isMic: false,\n      showAdvancedOptions: false,\n      isP2POnly: false,\n    };\n  },\n  computed: {\n    Resolutions() { return Resolutions; },\n    Codecs() { return Codecs; },\n  },\n  watch: {\n    isP2POnly(isP2POnly) {\n      if (!isP2POnly && this.codecs == Codecs.h264) {\n        // TODO: we may want to alert the user of this change somehow\n        this.codecs = Codecs.vp8;\n      }\n    },\n  },\n  mounted() {\n    // document.getElementById('enable-chat').onclick = function() {\n    //   var popup_width = 312;\n    //   var popup_height = 400;\n    //   runtimePort.postMessage({\n    //     messageFromContentScript1234: true,\n    //     openChat: true\n    //   });\n    //   window.open('chat.html','Chat','width='+popup_width+',height='+popup_height\n    //     +',toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=0,top='\n    //     +(screen.height - popup_height)+',left=' + (screen.width - popup_width - 30));\n    //   window.close();\n    // };\n  },\n  methods: {\n    startStream(enableVideo, enableAudio) {\n      this.enableVideo = enableVideo;\n      this.enableAudio = enableAudio;\n    \n\n      if (this.$refs.connection.connection && this.$refs.connection.connection.attachStreams[0]) {\n        this.onSetDefaults();\n        return;\n      }\n\n      this.room_id = '';\n\n      if (window.localStorage.getItem('room_id')) {\n        this.room_id = window.localStorage.getItem('room_id');\n      }\n\n      let protectedRoutes = ['streamer'];\n      if (protectedRoutes.includes(this.room_id)) {\n        this.useridAlreadyTaken = 'streamer';\n        return;\n      }\n      this.$refs.capturer.startStream();\n    },\n    stopStream() {\n      this.$refs.capturer.stopStream();\n      this.stream = null;\n    },\n    setRoomName() {\n      this.room_id = this.room_id\n        .trim()\n        .replace(/\\s+/g, '-')\n        .replace(/[^a-zA-Z0-9-_]/g, '')\n        .toLowerCase();\n      window.localStorage.setItem('room_id', this.room_id);\n    },\n    setBandwidth(value) {\n      try {\n        this.bandwidth = parseInt(value);\n      } catch (e) {\n        this.bandwidth = null;\n      }\n    },\n    onGotStream(stream) {\n      this.stream = stream;\n      this.stream.enableVideo = this.enableVideo;\n      this.stream.enableAudio = this.enableAudio;\n      this.$refs.connection.shareStreamUsingRTCMultiConnection(this.stream);\n    },\n    onSessionId(id) {\n      this.useridAlreadyTaken = '';\n      this.sessionId = id;\n    },\n    onSetDefaults() {\n      this.$refs.connection.setDefaults();\n    },\n    onIdTaken(takenID) {\n      this.useridAlreadyTaken = takenID;\n      this.room_id = '';\n    },\n    onIsSharing(isSharing) {\n      this.isSharingOn = isSharing;\n      if (!this.isSharingOn) {\n        this.sessionId = null;\n      }\n    },\n    onViewerCount(count) {\n      this.viewerCount = count;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streamer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streamer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Streamer.vue?vue&type=template&id=acc2040c&scoped=true&lang=pug&\"\nimport script from \"./Streamer.vue?vue&type=script&lang=js&\"\nexport * from \"./Streamer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Streamer.vue?vue&type=style&index=0&id=acc2040c&scoped=true&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"acc2040c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StopSection.vue?vue&type=style&index=0&id=c3e5f46a&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StopSection.vue?vue&type=style&index=0&id=c3e5f46a&scoped=true&lang=sass&\"","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streamer.vue?vue&type=style&index=0&id=acc2040c&scoped=true&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streamer.vue?vue&type=style&index=0&id=acc2040c&scoped=true&lang=sass&\"","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}