(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["receiver"],{"5f35":function(e,t,s){"use strict";var a=s("6b73"),i=s.n(a);i.a},"6b73":function(e,t,s){},d4c2:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"height-100",attrs:{id:"receiver"}},[s("ReceiverConnection",{attrs:{roomName:e.roomName},on:{state:e.onConnectionStateChanged,stream:e.onStream,presenceCheckWait:e.onPresenceCheckWait,stats:e.onStats,receiverViewerCount:e.onReceiverViewerCount}}),s("div",{staticClass:"menu-bar"},[s("div",{staticClass:"frow row-start"},[e.isStream?s("button",{staticClass:"button-link",attrs:{id:"show-stats-bar"},on:{click:e.showStats}},[e._v("Stats")]):e._e()])]),e.statsVisible?s("div",{staticClass:"shadow-light",attrs:{id:"stats-bar"}},[s("div",{attrs:{id:"hide-stats-bar"},on:{click:e.hideStats}},[s("XSvg")],1),s("div",{attrs:{id:"stats-bar-html"}},[e.stats.video.recv.codecs.length>0?s("div",[e._v(e._s("Video: "+e.stats.video.recv.codecs))]):e._e(),e.stats.video.recv.codecs.length>0?s("div",[e._v(e._s("Resolution: "+e.stats.resolutions.recv.width+"x"+e.stats.resolutions.recv.height))]):e._e(),e.stats.audio.recv.codecs.length>0?s("div",[e._v(e._s("Audio: "+e.stats.audio.recv.codecs))]):e._e(),s("div",[e._v(e._s("Data: "+this.bytesToSize(e.stats.audio.bytesReceived+e.stats.video.bytesReceived)))])])]):e._e(),s("div",{staticClass:"frow centered-column nowrap"},[e.isStream?e._e():s("router-link",{staticClass:"create-message",attrs:{to:"/"}},[s("LoadingSvg",{attrs:{id:"loading-logo"}})],1),e.isStream?s("router-link",{staticClass:"mb-50",attrs:{to:"/"}},[s("LogoSvg",{staticClass:"reciever-logo"})],1):e._e(),s("Player",{directives:[{name:"show",rawName:"v-show",value:e.isStream,expression:"isStream"}],attrs:{stream:e.stream,receiverViewerCount:e.receiverViewerCount,showExtraControls:!0}}),e.isStream?e._e():s("div",{attrs:{id:"info-bar"}},[e._v(e._s(e.infoBarMessage))]),e.isStream?e._e():s("router-link",{staticClass:"create-message",attrs:{to:"/streamer"}},[e._v("Create your own room")]),e.isStream?e._e():s("PublicRooms",{staticClass:"mt-40"})],1),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"chat-container",hidden:""}},[s("div",{attrs:{id:"chat-messages"}}),s("input",{attrs:{id:"txt-chat-message",type:"text",placeholder:"Enter Chat Message",hidden:""}})])}],o=(s("99af"),s("b0c0"),s("ac1f"),s("5319"),s("498a"),s("25ca")),n={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:o=[]}=t,{class:n,staticClass:r,style:c,staticStyle:l,attrs:h={},...d}=i;return s("svg",{class:[n,r],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92 53"},h),...d},o.concat([s("g",{attrs:{"clip-path":"url(#_clipPath_DBKJNQ6ncz1fVktbefDVInZnlBu8kyHj)"}},[s("path",{attrs:{d:"M2.6 17.5c.6-3.7 1.6-6.7 3.2-8.7 1.4-2.1 3.6-3.7 6.3-4.9 2.7-1.1 6.5-1.7 11.3-1.7 5 0 8.9.6 11.6 1.6 2.9 1.1 5.1 2.7 6.6 5 1.6 2.2 2.5 4.6 2.5 7.5 0 2.8-.9 5.7-2.8 8.3-1.8 2.7-5.1 5.6-10 8.9-2.9 1.8-4.7 3.1-5.7 3.8-1 .7-2.2 1.7-3.5 2.9h23.3V1.9c4.3.6 8.4 2 12.1 4.6q2.9 1.9 9.6 9.2c1.2 1.4 2.5 3 3.8 4.9 2 3 3.4 5 4.3 5.8.8 1 1.8 2.3 3.1 3.6V1.9h12.1v49.2c-4.5-.4-8.5-2-12.4-4.6-2.7-1.9-6-4.9-9.4-9.2-1.3-1.4-2.5-3-3.8-4.9-2.1-3-6.3-8-7.5-9.4v28.1H1.6c.5-3.9 2-7.6 4.5-11.2 2.4-3.4 7.2-7.6 14-12.3 4.2-2.9 6.9-5.2 8.1-6.6 1.1-1.6 1.7-3 1.7-4.3 0-1.5-.6-2.7-1.7-3.7-1.2-1.2-2.6-1.6-4.5-1.6-1.7 0-3.3.6-4.4 1.6-1.2 1.1-1.7 1.8-2.2 4.5H2.6z",fill:"none","vector-effect":"non-scaling-stroke"}})])]))}},r=s("8923"),c=s("8bd9"),l=s("91f9"),h=s("7b37"),d=s("e2bf"),v=s("8fee"),m=s("7c8a"),u=s("8137"),f={name:"Receiver",metaInfo:function(){return{title:"2N.fm Â· ".concat(this.roomName)}},components:{XSvg:o["a"],LoadingSvg:n,LogoSvg:r["a"],PlaySvg:c["a"],PauseSvg:l["a"],FullscreenSvg:h["a"],TheaterSvg:d["a"],ReceiverConnection:v["a"],PublicRooms:m["a"],Player:u["a"]},data:function(){return{roomName:this.$route.params.room,stream:new MediaStream,isStream:!1,statsVisible:!1,stats:{},infoBarMessage:"",presenceCheckWait:null,receiverViewerCount:0}},created:function(){var e=this.$route.params.room.trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase();this.$route.params.room!==e&&this.$router.push(e)},mounted:function(){window.addEventListener("offline",this.setOffline,!1),window.addEventListener("online",this.setOnline,!1)},beforeDestroy:function(){window.removeEventListener("offline",this.setOffline,!1),window.removeEventListener("online",this.setOnline,!1)},methods:{onConnectionStateChanged:function(e){switch(e.value){case v["a"].STATE.NOT_HOSTED:this.infoBarMessage="Room: ".concat(this.roomName," isn't hosted yet.\n            Checking again ").concat(6e4===this.presenceCheckWait?"every":"in","\n            ").concat(this.presenceCheckWait/1e3," seconds.");break;case v["a"].STATE.JOINING:this.infoBarMessage="Joining room: ".concat(this.roomName);break;case v["a"].STATE.UNAUTHORIZED:this.infoBarMessage="Incorrect password";break;case v["a"].STATE.UNAVAILABLE:this.infoBarMessage="\n          Screen share session is closed or paused.\n          You will join automatically when share session is resumed.\n        ";break;case v["a"].STATE.PEER_WILL_SEND:this.infoBarMessage="Remote peer is about to send his screen.";break;case v["a"].STATE.SOCKET_CLOSED:this.stream=null,this.infoBarMessage="Screen sharing has been closed.",this.hideStats(),location.reload();break;case v["a"].STATE.SOCKET_DISCONNECT:this.isStream=!1,location.reload();break;case v["a"].STATE.SOCKET_ERROR:alert("Unable to connect to the server. Please try again."),setTimeout((function(){location.reload()}),1e3);break;case v["a"].STATE.HAVE_OFFER:this.infoBarMessage="Received WebRTC offer from: ".concat(this.roomName);break;case v["a"].STATE.HANDSHAKE_COMPLETE:this.infoBarMessage="\n          WebRTC handshake is completed.\n          Waiting for remote video from: ".concat(this.roomName,"\n        ");break;case v["a"].STATE.CONNECTED:this.isStream=!0;break;case v["a"].STATE.DISCONNECTED:this.isStream=!1,this.infoBarMessage="You've been disconnected. Please try again.";break;case v["a"].STATE.GENERIC:this.infoBarMessage="".concat(e.name,": ").concat(e.reason);break}},onStream:function(e){this.stream=e},onPresenceCheckWait:function(e){this.presenceCheckWait=e},onReceiverViewerCount:function(e){this.receiverViewerCount=e},onStats:function(e){this.stats=e},showStats:function(){this.statsVisible=!0},hideStats:function(){this.statsVisible=!1},bytesToSize:function(e){var t=1e3,s=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var a=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return"".concat((e/Math.pow(t,a)).toPrecision(3)," ").concat(s[a])}},setOffline:function(){this.infoBarMessage="You seem to be offline."},setOnline:function(){this.infoBarMessage="You are back online. Reloading the page...",location.reload()}},g=f,S=(s("5f35"),s("2877")),b=Object(S["a"])(g,a,i,!1,null,"da2fa6e8",null);t["default"]=b.exports}}]);
//# sourceMappingURL=receiver.e297f4fd.js.map